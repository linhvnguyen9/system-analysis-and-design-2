create database baitap3;

create table `account`(
	`id` int(10) NOT NULL AUTO_INCREMENT,
    `username` varchar(128) NOT NULL,
	`password` varchar(45) NOT NULL,
    PRIMARY KEY (`id`)
)ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;

create table `customer`(
	`id` int(10) NOT NULL AUTO_INCREMENT,
    `name` varchar(128) NOT NULL,
    `account_id` int(10) NOT NULL,
    PRIMARY KEY (`id`),
    CONSTRAINT FK_AccountCustomer FOREIGN KEY (`account_id`)
    REFERENCES account(`id`)
)ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;

create table `address`(
	`id` int(10) NOT NULL AUTO_INCREMENT,
    `street` varchar(50) NOT NULL,
    `city` varchar(50) NOT NULL,
    `country` varchar(50) NOT NULL,
    `customer_id` int(10) NOT NULL,
    PRIMARY KEY (`id`),
    CONSTRAINT FK_CustomerAddress FOREIGN KEY (`customer_id`)
    REFERENCES customer(`id`)
)ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;

create table `order`(
	`id` int(10) NOT NULL AUTO_INCREMENT,
    `date` date NOT NULL,
    `customer_id` int(10) NOT NULL,
    PRIMARY KEY (`id`),
    CONSTRAINT FK_CustomerOrder FOREIGN KEY (`customer_id`)
    REFERENCES customer(`id`)
)ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;

CREATE TABLE `book` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(128) NOT NULL,
  `author` varchar(45) NOT NULL,
  `price` float NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `book_id_UNIQUE` (`id`),
  UNIQUE KEY `title_UNIQUE` (`title`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;

create table `order_list`(
	`id` int(10) NOT NULL AUTO_INCREMENT,
    `order_id` int(10) NOT NULL,
    `book_id` int(10) NOT NULL,
    PRIMARY KEY (`id`),
    CONSTRAINT FK_OrderOList FOREIGN KEY (`order_id`)
    REFERENCES baitap3.order(`id`),
	CONSTRAINT FK_OListBook FOREIGN KEY (`book_id`)
	REFERENCES baitap3.book(`id`)
)ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;